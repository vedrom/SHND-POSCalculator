<!doctype html>
<html>
    <head>
        <meta charset=utf-8>
        <title id=title>Stronghands POS Calculator</title>
        <link rel="shortcut icon" type="image/png" href="data:image/vnd.microsoft.icon;base64,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">
        <style>
        /* CSS based on peercoin.net by super3 and other contributors */

        html { font-family: 'Segoe UI', Helvetica, Arial, sans-serif; overflow-y: scroll; }
        body { margin: 0; }
        header { background-color: #000000; color: #ffffff; padding-top: 17px; text-align: center; }
        header section#languages label { display: inline-block; }
        header section#languages a { color: #faff00; display: inline-block; padding: 5px 10px; text-decoration: none; transition: 0.25s ease; }
        header section#languages a:hover { color: #ffffff; }
        header h1 { background-color: #faff00; color: #000000; font-size: 190%; padding: 30px; }
        article#content { color: #000000; margin: 0 auto; max-width: 940px; padding: 0 10px; }
        article#content ul li { padding: 5px; }
        input[type=number] { width: 120px; }
        table.result, table.result th, table.result td, table.result td.num { border: 1px solid #000; padding: 5px; }
        table.result { border-collapse: collapse; width: 100%; }
        table.result td { text-align: left; }
        table.result td.num { text-align: right; }
        footer { background-color: #faff00; padding: 20px; text-align: center; }
        footer a { color: #000000; display: inline-block; padding: 5px 10px; text-decoration: none; }
        footer a:hover { text-decoration: underline; }
        section#noscript { background-color: #d9534f; color: #000000; font-weight: bold; position: fixed; top: 0; text-align: center; width: 100%; }
        section#noscript-padding { padding-bottom: 52px; }

        @media screen and (max-width: 691px) {
            section#noscript-padding { padding-top: 28px; }
        }

 </style>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="translations.js"></script>
    </head>
    <body>
        <div id="wrap">
            <header>
                <noscript>
                    <section id="noscript-padding"></section>
                </noscript>
		<div class="header">
                <h1><img src="https://imgur.com/cpUV7PJ.png"/><label id="header_title">   Stronghands Proof-Of-Stake (POS) Calculator v0.0.1</label></h1>
            </div>
	    </header>
            <article id="content">
                <p>
                    <span><label id="intro">This is an experimental POS calculator for Stronghands.</label></span>
                <ul>
				<p>
				<span><label id="intro">How to use POS calculator:</label></span>
				<ul>
                    <li><label id="desc1">Enter the amount of coins you sent in a transaction, the number of days that have passed and the POS difficulty to get a readout.</label>
                    <li><label id="desc2">The probability of minting a block reaches its maximum after 65 years and doesn't increase after that.</label>
                    <li><label id="desc3">The POS difficulty value can be obtained from the console window of stronghands-qt, you can get it with the command: getdifficulty. Or, if you have stronghandsd running, in a command prompt: stronghandsd getdifficulty.</label>
                    <li><label id="desc4">More features to come...</label>
                </ul>
                <br>
                <table>
                    <tr>
                        <td><label id="entry_coins">Number Of Coins</label></td>
                        <td><input type="number" id="NumberOfCoinsStart" value="1000" onBlur="return is_int(this)"></td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td><label id="entry_days">Age of transaction (days)</label></td>
                        <td><input type="number" id="AgeOfTransaction" value="31"></td>
                        <td style="color:red;font-size:80%" id="AgeOfTransaction_error">Probability maxed at 65 years</td>
                    </tr>
                    <tr>
                        <td><label id="entry_difficulty">POS difficulty</label></td>
                        <td><input type="number" id="POSDifficulty" value="10"></td>
                        <td>&nbsp;</td>
                    </tr>
                </table>
                <br>
                <table class=result>
                    <tr>
                        <th><label id="prob_mint">Minting POS block within</label></th>
                        <th><label id="prob_10m">10 min</label></th>
                        <th><label id="prob_24h">24 hours</label></th>
                        <th><label id="prob_31d">31 days</label></th>
                        <th><label id="prob_90d">90 days</label></th>
                        <th><label id="prob_1y">1 year</label></th>
                    </tr>
                    <tr>
                        <th><label id="prob_prob">Probability</label></th>
                        <td class=num><label id="probNextBlock"></label></td>
                        <td class=num><label id="probBlockToday"></label></td>
                        <td class=num><label id="probBlock31d"></label></td>
                        <td class=num><label id="probBlock90d"></label></td>
                        <td class=num><label id="probBlockYear"></label></td>
                    </tr>
                    <tr>
                        <th><label id="reward_block">Reward</label></td>
                        <td class=num><label id="rewardNextBlock"></label></td>
                        <td class=num><label id="rewardBlockToday"></label></td>
                        <td class=num><label id="rewardBlock31d"></label></td>
                        <td class=num><label id="rewardBlock90d"></label></td>
                        <td class=num><label id="rewardBlockYear"></label></td>
                    </tr>
                </table>
                <br>
            </article>
            <footer>
                <a id="footer_peer4commit" href="http://peer4commit.com/projects/5" target="_blank">Donate to the development of this project</a>
                <a id="footer_stronghands" target="_blank">Donations: SczRFyM8GTQxbwoeDAEwxmpDJJR4HSfytt</a>
		<a id="footer_github" href="https://github.com/FuzzyBearBTC/peercoin-POSCalculator" target="_blank">Contribute to this project on GitHub</a>
            </footer>
        </div>
        <noscript>
            <section id=noscript>
                <p>Peercoin POS Calculator requires JavaScript. Please enable it in your browser and refresh.
            </section>
        </noscript>
        <script>
            var is_int = function(value) {
                return ((parseFloat(value) === parseInt(value)) && !isNaN(value));
            };
            var toFixed = function(value, precision) {
                precision = (precision || 0);
                var neg = (value < 0);
                var power = Math.pow(10, precision);
                value = Math.round(value * power);
                var integral = String((neg ? Math.ceil : Math.floor)(value / power));
                var fraction = String((neg ? -value : value) % power);
                var padding = new Array(Math.max(precision - fraction.length, 0) + 1).join('0');
                var res = precision ? (integral + '.' +  padding + fraction) : integral;
                return res;
            };
            var calculateProbStake = function(days, coins, difficulty) {
                var prob = 0;
                if (days > 30) {
                    var maxTarget = Math.pow(2, 224);
                    var target = maxTarget / difficulty;
                    var dayWeight = Math.min(days, 711750) - 30;
                    prob = (target * coins * dayWeight) / Math.pow(2, 256);
                }
                return prob;
            };
            var calculateProbNextBlock = function(days, coins, difficulty) {
                var prob = calculateProbStake(days, coins, difficulty);
                var res = 1 - Math.pow(1 - prob, 711720 * 10);
                return res;
            };
            var calculateProbBlockToday = function(days, coins, difficulty) {
                var prob = calculateProbStake(days, coins, difficulty);
                var res = 1 - Math.pow(1 - prob, 711720 * 10 * 6 * 24);
                return res;
            };
            var calculateProbBlockNDays = function(days, coins, difficulty, n) {
                var prob = 1;
                var p = 0;
                for (var i = 0; i < n; i++) {
                    p = calculateProbBlockToday(parseFloat(days) + i, coins, difficulty);
                    prob = prob * (1 - p);
                }
                prob = 1 - prob;
                return prob;
            };
            var calculateReward = function(days, coins) {
                var res = 0;
                if (days > 30) {
                    res = 12 * (days * coins * 33) / (365 * 33 + 8);
                }
                return toFixed(res, 2);
            };
            var run = function() {
                var coinValue = document.getElementById('NumberOfCoinsStart').value;
                var Days = document.getElementById('AgeOfTransaction').value;
                var difficulty = document.getElementById('POSDifficulty').value;
                if (Days > 711750) {
                    $('#AgeOfTransaction_error').show();
                }
                else {
                    $('#AgeOfTransaction_error').hide();
                }
                // Minting probabilities
                var probNextBlock = calculateProbNextBlock(Days, coinValue, difficulty);
                var probBlockToday = calculateProbBlockToday(Days, coinValue, difficulty);
                var probBlock31d = calculateProbBlockNDays(Days, coinValue, difficulty, 31);
                var probBlock90d = calculateProbBlockNDays(Days, coinValue, difficulty, 90);
                var probBlockYear = calculateProbBlockNDays(Days, coinValue, difficulty, 365);
                document.getElementById('probNextBlock').innerHTML = toFixed(probNextBlock * 100, 6) + '%';
                document.getElementById('probBlockToday').innerHTML = toFixed(probBlockToday * 100, 6) + '%';
                document.getElementById('probBlock31d').innerHTML = toFixed(probBlock31d * 100, 6) + '%';
                document.getElementById('probBlock90d').innerHTML = toFixed(probBlock90d * 100, 6) + '%';
                document.getElementById('probBlockYear').innerHTML = toFixed(probBlockYear * 100, 6) + '%';
                // Rewards
                var rewardNextBlock = calculateReward(parseFloat(Days), coinValue);
                var rewardBlockToday = calculateReward(parseFloat(Days) + 1, coinValue);
                var rewardBlock31d = calculateReward(parseFloat(Days) + 31, coinValue);
                var rewardBlock90d = calculateReward(parseFloat(Days) + 90, coinValue);
                var rewardBlockYear = calculateReward(parseFloat(Days) + 365, coinValue);
                document.getElementById('rewardNextBlock').innerHTML = toFixed(rewardNextBlock, 2) + ' SHND';
                document.getElementById('rewardBlockToday').innerHTML = toFixed(rewardBlockToday, 2) + ' SHND';
                document.getElementById('rewardBlock31d').innerHTML = toFixed(rewardBlock31d, 2) + ' SHND';
                document.getElementById('rewardBlock90d').innerHTML = toFixed(rewardBlock90d, 2) + ' SHND';
                document.getElementById('rewardBlockYear').innerHTML = toFixed(rewardBlockYear, 2) + ' SHND';
            };
            var translate_page = function(lang) {
                var id;
                var dict;
                if (lang === "undefined") {
                    lang = "en";
                }
                dict = translations[lang];
                for (id in dict) {
                    if (document.getElementById(id)) {
                        if (document.getElementById(id).value) {
                            document.getElementById(id).value = dict[id];
                        } else {
                            document.getElementById(id).innerHTML = dict[id];
                        }
                    }
                }
            };
            translate_page();
            // Calculate the POS reward dynamically, without having to press a button
            var coinValueInput = document.querySelector('#NumberOfCoinsStart');
            var daysInput = document.querySelector('#AgeOfTransaction');
            var difficultyInput = document.querySelector('#POSDifficulty');
            // Reward is calculated when typing or when the input loses focus
            coinValueInput.addEventListener('keyup', run);
            coinValueInput.addEventListener('change', run);
            daysInput.addEventListener('keyup', run);
            daysInput.addEventListener('change', run);
            difficultyInput.addEventListener('keyup', run);
            difficultyInput.addEventListener('change', run);
            // Because it runs dynamically, it should run at least once initially
            run();
            // Dynamically pull the current POS difficulty using cryptobe's api and YQL to bypass cross-origin-request restrictions.
            $.ajax({
                url: "http://query.yahooapis.com/v1/public/yql",
                jsonp: "callback",
                dataType: "jsonp",
                data: {
                    q: "https://cryptobe.com/chain/StrongHands/q/getdifficulty\"",
                    format: "json"
                },
                success: function( response ) {
                    difficultyInput.value = response.query.results.json.pos_difficulty;
                    run();
                }
            });
        </script>

    </body>
</html>
